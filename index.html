<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="randomhost/steamsignature : Displays the online status of Steam players as PNG image.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>randomhost/steamsignature</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/randomhost/steamsignature">View on GitHub</a>

          <h1 id="project_title">randomhost/steamsignature</h1>
          <h2 id="project_tagline">Displays the online status of Steam players as PNG image.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/randomhost/steamsignature/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/randomhost/steamsignature/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p><a href="https://travis-ci.org/randomhost/steamsignature"><img src="https://travis-ci.org/randomhost/steamsignature.svg" alt="Build Status"></a></p>

<h1>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h1>

<p>This package reads the <a href="https://developer.valvesoftware.com/wiki/Steam_Web_API">Steam Web-API</a> and <a href="https://partner.steamgames.com/documentation/community_data">community XML data</a> of Valve's
Steam platform and displays the current online status of players as PNG image,
designed to be used in forum and blog signatures.</p>

<p>The included link target method detects whether the player is currently playing
on a multiplayer server and returns either the URL to the player's steam profile
or the URL for joining the game using the visitor's locally installed Steam
client if this is supported by the game.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>A basic approach at using this package could look like this:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">namespace</span> <span class="pl-en">randomhost\Steam</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">require_once</span> <span class="pl-s"><span class="pl-pds">'</span>/path/to/vendor/autoload.php<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// setup directories</span></span>
<span class="pl-s1"><span class="pl-smi">$imageDir</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>/path/to/images/<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"><span class="pl-smi">$fontsDir</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>/path/to/fonts/<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"><span class="pl-smi">$cacheDir</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>/path/to/cache/<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// init an API instance for talking to the Steam Web API</span></span>
<span class="pl-s1"><span class="pl-smi">$api</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">API</span>(<span class="pl-s"><span class="pl-pds">'</span>yourSteamApiKey<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// resolve custom URL into steam ID</span></span>
<span class="pl-s1"><span class="pl-smi">$steamId</span> <span class="pl-k">=</span> <span class="pl-smi">$api</span><span class="pl-k">-&gt;</span>resolveVanityUrl(<span class="pl-s"><span class="pl-pds">'</span>yourCustomProfileUrl<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// init Signature instance</span></span>
<span class="pl-s1"><span class="pl-smi">$signature</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Signature</span>(<span class="pl-smi">$api</span>, <span class="pl-smi">$steamId</span>, <span class="pl-smi">$imageDir</span>, <span class="pl-smi">$fontsDir</span>, <span class="pl-smi">$cacheDir</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// renders the picture</span></span>
<span class="pl-s1"><span class="pl-smi">$signature</span><span class="pl-k">-&gt;</span>render();</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// returns a link to the user's profile page or a Steam join link</span></span>
<span class="pl-s1"><span class="pl-smi">$signature</span><span class="pl-k">-&gt;</span>getLinkTarget();</span></pre></div>

<p>The example above should be mostly self-explanatory.</p>

<p>The <code>API</code> class must be initialized with a personalized API key. You can obtain
your API key from the <a href="http://steamcommunity.com/dev">Steam developer website</a>.</p>

<p>The <code>API</code> class is a very limited implementation of the Steam Web-API and is not
supposed to be used directly, except for one method:</p>

<ol>
<li>
<code>API::resolveVanityUrl($vanityUrl)</code><br>
Resolves the given vanity URL into a 64-Bit Steam ID, ready to be passed to
the <code>Signature</code> class constructor.</li>
</ol>

<p>The <code>Signature</code> class provides two public methods:</p>

<ol>
<li>
<p><code>Signature::render()</code><br>
Outputs the signature image directly to the web browser.  </p>

<p><strong>Note:</strong> This method must be the only code which sends output to the web
browser. If you receive <code>Cannot modify header information</code> errors, please
ensure that your application does <strong>not</strong> generate any output <strong>before</strong>
<code>Signature::render()</code> is called. Additionally, no output may be generated
<strong>after</strong> calling this method as it would break the image.</p>
</li>
<li><p><code>Signature::getLinkTarget()</code><br>
Returns a link to the Steam user's profile page or a join link to join the
game the user is currently playing if the game supports joining through
Steam.</p></li>
</ol>

<p>An example implementation of this script can be found in the <code>src/www/</code> folder.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>See LICENSE.txt for full license details.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">randomhost/steamsignature maintained by <a href="https://github.com/randomhost">randomhost</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
